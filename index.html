<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Маркетплейс Ігрових Ресурсів</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
        }
        header {
            background-color: #6200ea;
            color: white;
            padding: 1rem;
            text-align: center;
            font-size: 1.5rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        header a.view-more-button {
            display: inline-block;
            margin-top: 1rem;
            background-color: #ffffff;
            color: #6200ea;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1rem;
            transition: background-color 0.3s, color 0.3s;
        }
        header a.view-more-button:hover {
            background-color: #3700b3;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            font-size: 1.1rem;
            color: #333;
        }
        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 0.75rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            color: #333;
            transition: border-color 0.3s;
        }
        input:focus, textarea:focus, select:focus {
            border-color: #6200ea;
            outline: none;
        }
        button {
            width: 100%;
            padding: 1rem;
            font-size: 1.1rem;
            background-color: #000000;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.3s;
        }
        button:hover {
            background-color: #229413;
            transform: scale(1.05);
        }
        button:active {
            transform: scale(0.98);
        }
        .listing {
            border-bottom: 2px solid #ddd;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background-color: #fafafa;
            border-radius: 8px;
            transition: transform 0.2s, box-shadow 0.3s;
        }
        .listing:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        .listing:last-child {
            border-bottom: none;
        }
        .listing h3, .listing p {
            margin: 0.5rem 0;
        }
        .delete-button {
            background-color: #ad0026;
            color: rgb(255, 255, 255);
            border: none;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-radius: 8px;
            font-size: 1rem;
            transition: transform 0.2s, background-color 0.3s;
        }
        .delete-button:hover {
            background-color: #d50000;
            transform: scale(1.05);
        }
        .delete-button:active {
            transform: scale(0.98);
        }
        .buy-button {
            background-color: #00c853;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-radius: 8px;
            font-size: 1rem;
            transition: transform 0.2s, background-color 0.3s;
        }
        .buy-button:hover {
            background-color: #009624;
            transform: scale(1.05);
        }
        .buy-button:active {
            transform: scale(0.98);
        }
        .game-list {
            margin-top: 1.5rem;
            padding-left: 1.5rem;
            cursor: pointer;
        }
        .game-list li {
            font-size: 1.1rem;
            color: #000000;
            margin-bottom: 0.5rem;
            transition: color 0.3s, transform 0.2s;
        }
        .game-list li:hover {
            color: #6200ea;
            transform: scale(1.05);
        }
        .view-more-button {
            margin-top: 1.5rem;
            background-color: #6200ea;
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .view-more-button:hover {
            background-color: #3700b3;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .listing {
            animation: fadeIn 0.5s ease-in-out;
        }
        .account-info {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background-color: #6200ea;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .account-info:hover {
            background-color: #3700b3;
        }
        .account-details {
            display: none;
            position: fixed;
            top: 4rem;
            right: 1rem;
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }
        .account-details p {
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <header>
        <h1>Маркетплейс Ігрових Ресурсів</h1>
        <a href="#listingsContainer" class="view-more-button">До оголошень</a>
    </header>
    <div class="account-info" id="accountInfoButton">Акаунт</div>
    <div class="account-details" id="accountDetails">
        <p><strong>Нікнейм:</strong> <span id="accountUsername">Гість</span></p>
        <p><strong>Баланс:</strong> <span id="accountBalance">0</span> грн</p>
    </div>
    <div class="container">
        <h2>Оголошення</h2>
        <div id="listingsContainer"></div>

        <h2>Створити нове оголошення</h2>
        <form id="listingForm">
            <div class="form-group">
                <label for="game">Гра</label>
                <select id="game" required>
                    <option value="wow">World of Warcraft</option>
                    <option value="csgo">Counter-Strike: Global Offensive</option>
                    <option value="eve">EVE Online</option>
                    <option value="diablo">Diablo III</option>
                    <option value="roblox">Roblox</option>
                    <option value="minecraft">Minecraft</option>
                    <option value="dota">Dota 2</option>
                    <option value="rust">Rust</option>
                </select>
            </div>
            <div class="form-group">
                <label for="resourceName">Назва предмету</label>
                <input type="text" id="resourceName" placeholder="Введіть назву предмету" required>
            </div>
            <div class="form-group">
                <label for="specificType">Тип</label>
                <select id="specificType" required>
                </select>
            </div>
            <div class="form-group">
                <label for="quantity">Кількість товару</label>
                <input type="number" id="quantity" placeholder="Введіть кількість товару" required>
            </div>
            <div class="form-group">
                <label for="description">Опис</label>
                <textarea id="description" rows="4" placeholder="Опишіть предмет" required></textarea>
            </div>
            <div class="form-group">
                <label for="price">Ціна (в гривнях)</label>
                <input type="number" id="price" placeholder="Введіть ціну в гривнях" required>
            </div>
            <button type="submit">Додати оголошення</button>
        </form>

        <h2>Ігри для продажу ресурсів</h2>
        <ul class="game-list">
            <li data-game="wow">World of Warcraft</li>
            <li data-game="csgo">Counter-Strike: Global Offensive</li>
            <li data-game="eve">EVE Online</li>
            <li data-game="diablo">Diablo III</li>
            <li data-game="roblox">Roblox</li>
            <li data-game="minecraft">Minecraft</li>
            <li data-game="dota">Dota 2</li>
            <li data-game="rust">Rust</li>
        </ul>
    </div>

    <script>
        const form = document.getElementById('listingForm');
        const listingsContainer = document.getElementById('listingsContainer');
        const gameSelect = document.getElementById('game');
        const specificTypeSelect = document.getElementById('specificType');
        const accountInfoButton = document.getElementById('accountInfoButton');
        const accountDetails = document.getElementById('accountDetails');
        const accountUsername = document.getElementById('accountUsername');
        const accountBalance = document.getElementById('accountBalance');

        const gameOptions = {
            wow: ["Золото", "Предмети для крафту", "Ресурси для рейдів"],
            csgo: ["Скіни для зброї", "Ключі для кейсів", "Контракти"],
            eve: ["ISK", "Кораблі", "Ресурси для виробництва"],
            diablo: ["Речі", "Ресурси для крафту", "Гемс"],
            roblox: ["Товари для аватарів", "Ресурси для створення ігор"],
            minecraft: ["Монети на FT", "Монети на SP", "PVP сети", "Побудова фармілок"],
            dota: ["Скіни для героїв", "Аркани", "Портрети"],
            rust: ["Ресурси", "Зброя", "Підбор пароля до кланової бази", "Рейд клонової бази під нуль"]
        };

        const currentUser = JSON.parse(localStorage.getItem('user')) || { username: "Гість", balance: 1000 };

        // Оновлення інформації про акаунт
        function updateAccountInfo() {
            accountUsername.textContent = currentUser.username;
            accountBalance.textContent = currentUser.balance;
        }
        updateAccountInfo();

        // Відображення інформації про акаунт
        accountInfoButton.addEventListener('click', function() {
            accountDetails.style.display = accountDetails.style.display === 'block' ? 'none' : 'block';
        });

        // Оновлення типів ресурсів при зміні гри
        function updateSpecificTypes(selectedGame) {
            const options = gameOptions[selectedGame] || [];
            specificTypeSelect.innerHTML = '';
            options.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option.toLowerCase();
                opt.textContent = option;
                specificTypeSelect.appendChild(opt);
            });
        }

        gameSelect.addEventListener('change', function () {
            const selectedGame = gameSelect.value;
            updateSpecificTypes(selectedGame);
        });

        gameSelect.dispatchEvent(new Event('change'));

        // Додавання нового оголошення
        form.addEventListener('submit', function(event) {
            event.preventDefault();

            const game = gameSelect.value;
            const resourceName = document.getElementById('resourceName').value;
            const specificType = specificTypeSelect.value;
            const quantity = document.getElementById('quantity').value;
            const description = document.getElementById('description').value;
            const price = document.getElementById('price').value;

            if (currentUser.balance < price) {
                alert("Недостатньо коштів на балансі для створення оголошення.");
                return;
            }

            const listing = document.createElement('div');
            listing.classList.add('listing');
            listing.innerHTML = `
                <h3>${resourceName} (${game})</h3>
                <p><strong>Гра:</strong> ${game}</p>
                <p><strong>Опис:</strong> ${description}</p>
                <p><strong>Ціна:</strong> ${price} грн</p>
                <p><strong>Кількість:</strong> ${quantity}</p>
            `;

            listing.dataset.author = currentUser.username;

            if (currentUser && listing.dataset.author === currentUser.username) {
                const deleteButton = document.createElement('button');
                deleteButton.classList.add('delete-button');
                deleteButton.textContent = 'Видалити';
                deleteButton.addEventListener('click', function() {
                    if (confirm("Ви впевнені, що хочете видалити це оголошення?")) {
                        listing.remove();
                    }
                });
                listing.appendChild(deleteButton);
            } else {
                const buyButton = document.createElement('button');
                buyButton.classList.add('buy-button');
                buyButton.textContent = 'Купити';
                buyButton.addEventListener('click', function() {
                    if (currentUser.balance < price) {
                        alert("Недостатньо коштів на балансі для покупки.");
                        return;
                    }
                    currentUser.balance -= price;
                    updateAccountInfo();
                    alert(`Ви купили товар: ${resourceName} за ${price} грн.`);
                });
                listing.appendChild(buyButton);
            }

            listingsContainer.appendChild(listing);
            form.reset();
        });

        // Фейкові оголошення
        const fakeListings = [
            {
                game: "wow",
                resourceName: "Золото",
                specificType: "Золото",
                quantity: 1000,
                description: "Продам золото для World of Warcraft. Швидка доставка.",
                price: 500,
                author: "Фейковий користувач 1"
            },
            {
                game: "csgo",
                resourceName: "Скін AK-47",
                specificType: "Скіни для зброї",
                quantity: 1,
                description: "Рідкісний скін AK-47. Ідеальний стан.",
                price: 1200,
                author: "Фейковий користувач 2"
            },
            {
                game: "eve",
                resourceName: "ISK",
                specificType: "ISK",
                quantity: 1000000,
                description: "Продам ISK для EVE Online. Велика кількість.",
                price: 1000,
                author: "Фейковий користувач 3"
            },
            {
                game: "diablo",
                resourceName: "Речі",
                specificType: "Речі",
                quantity: 10,
                description: "Продам рідкісні речі для Diablo III.",
                price: 800,
                author: "Фейковий користувач 4"
            },
            {
                game: "roblox",
                resourceName: "Товари для аватарів",
                specificType: "Товари для аватарів",
                quantity: 5,
                description: "Продам товари для аватарів у Roblox.",
                price: 300,
                author: "Фейковий користувач 5"
            },
            {
                game: "minecraft",
                resourceName: "Монети на FT",
                specificType: "Монети на FT",
                quantity: 2000,
                description: "Продам монети на FT серверах Minecraft.",
                price: 400,
                author: "Фейковий користувач 6"
            },
            {
                game: "dota",
                resourceName: "Скін для героя",
                specificType: "Скіни для героїв",
                quantity: 1,
                description: "Продам скін для героя у Dota 2.",
                price: 700,
                author: "Фейковий користувач 7"
            },
            {
                game: "rust",
                resourceName: "Ресурси",
                specificType: "Ресурси",
                quantity: 500,
                description: "Продам ресурси для Rust. Велика кількість.",
                price: 600,
                author: "Фейковий користувач 8"
            }
        ];

        // Додавання фейкових оголошень при завантаженні сторінки
        window.addEventListener('load', function() {
            fakeListings.forEach(listing => {
                addListing(listing);
            });
        });

        function addListing(listing) {
            const listingElement = document.createElement('div');
            listingElement.classList.add('listing');
            listingElement.innerHTML = `
                <h3>${listing.resourceName} (${listing.game})</h3>
                <p><strong>Гра:</strong> ${listing.game}</p>
                <p><strong>Опис:</strong> ${listing.description}</p>
                <p><strong>Ціна:</strong> ${listing.price} грн</p>
                <p><strong>Кількість:</strong> ${listing.quantity}</p>
            `;

            listingElement.dataset.author = listing.author;

            if (currentUser && listingElement.dataset.author === currentUser.username) {
                const deleteButton = document.createElement('button');
                deleteButton.classList.add('delete-button');
                deleteButton.textContent = 'Видалити';
                deleteButton.addEventListener('click', function() {
                    if (confirm("Ви впевнені, що хочете видалити це оголошення?")) {
                        listingElement.remove();
                    }
                });
                listingElement.appendChild(deleteButton);
            } else {
                const buyButton = document.createElement('button');
                buyButton.classList.add('buy-button');
                buyButton.textContent = 'Купити';
                buyButton.addEventListener('click', function() {
                    if (currentUser.balance < listing.price) {
                        alert("Недостатньо коштів на балансі для покупки.");
                        return;
                    }
                    currentUser.balance -= listing.price;
                    updateAccountInfo();
                    alert(`Ви купили товар: ${listing.resourceName} за ${listing.price} грн.`);
                });
                listingElement.appendChild(buyButton);
            }

            listingsContainer.appendChild(listingElement);
        }
    </script>
</body>
</html>
